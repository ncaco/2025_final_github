# 가계부 프론트엔드 UI/UX 기획

## 1. 개요
가계부 시스템의 사용자 인터페이스와 사용자 경험을 설계합니다. 모바일 우선 반응형 디자인을 적용하며, 직관적인 사용성을 목표로 합니다.

## 2. 기술 스택

### 2.1 프레임워크 및 라이브러리
- **Next.js 14+**: App Router 사용
- **React 18+**: 최신 React 기능 활용
- **TypeScript**: 타입 안전성 확보
- **Tailwind CSS**: 유틸리티 기반 스타일링
- **shadcn/ui**: 고품질 UI 컴포넌트
- **React Hook Form**: 폼 상태 관리
- **Zustand**: 전역 상태 관리
- **React Query**: 서버 상태 관리 및 캐싱
- **Recharts**: 데이터 시각화
- **React Date Picker**: 날짜 선택
- **React Hot Toast**: 알림 메시지

### 2.2 디자인 시스템
- **색상 팔레트**: 자연스러운 색상 계열
  - Primary: Blue (#3B82F6)
  - Income: Green (#10B981)
  - Expense: Red (#EF4444)
  - Neutral: Gray (#6B7280)
- **폰트**: Pretendard (웹폰트)
- **반응형 브레이크포인트**: Mobile (640px), Tablet (768px), Desktop (1024px)

## 3. 주요 화면 설계

### 3.1 대시보드 (홈 화면)
**경로**: `/dashboard`

**주요 기능**:
- 월별 수입/지출 요약 카드
- 최근 거래 내역 (최근 5건)
- 월별 추이 차트
- 카테고리별 지출 비율 (도넛 차트)
- 빠른 거래 등록 버튼

**레이아웃**:
```
┌─────────────────────────────────────┐
│           헤더 (월 선택)              │
├─────────────────────────────────────┤
│  수입/지출 요약 카드                 │
│  ┌─────────┬─────────┬─────────┐   │
│  │ 수입    │ 지출    │ 잔액    │   │
│  │ ₩3M    │ ₩2.5M  │ ₩0.5M  │   │
│  └─────────┴─────────┴─────────┘   │
├─────────────────────────────────────┤
│  월별 추이 차트                     │
│  [라인 차트: 수입/지출 추이]        │
├─────────────────────────────────────┤
│  카테고리별 지출 비율                │
│  [도넛 차트]                       │
├─────────────────────────────────────┤
│  최근 거래 내역                      │
│  ┌─────────────────────────────┐   │
│  │ 🥘 식비    -₩15,000  오늘    │   │
│  │ 🚗 교통비   -₩3,000   어제    │   │
│  │ 💼 급여    +₩3,000,000 5일전 │   │
│  └─────────────────────────────┘   │
├─────────────────────────────────────┤
│         네비게이션 바                 │
└─────────────────────────────────────┘
```

### 3.2 거래 목록 화면
**경로**: `/transactions`

**필터링 옵션**:
- 기간 선택 (오늘, 이번주, 이번달, 사용자 정의)
- 카테고리 필터 (드롭다운, 다중 선택)
- 금액 범위 필터
- 거래 유형 필터 (수입/지출)
- 검색어 입력

**거래 아이템 디자인**:
```
┌─────────────────────────────────────┐
│ 🥘 식비                        -₩15,000 │
│ 스타벅스 아메리카노                 │
│ 2024.01.15 월                    💳 │
│ #커피 #아침                         │
└─────────────────────────────────────┘
```

**일괄 작업**:
- 선택 삭제
- 선택 내보내기
- 카테고리 일괄 변경

### 3.3 거래 등록/수정 화면
**경로**: `/transactions/new`, `/transactions/{id}/edit`

**폼 필드**:
- **카테고리**: 계층적 드롭다운 선택
- **금액**: 숫자 입력 (천단위 구분자)
- **설명**: 텍스트 입력
- **거래일**: 날짜/시간 선택
- **결제수단**: 라디오 버튼
- **장소**: 텍스트 입력 (선택사항)
- **태그**: 태그 입력 (쉼표로 구분)
- **메모**: 긴 텍스트 입력
- **영수증 이미지**: 파일 업로드

**유효성 검사**:
- 필수 필드 강조
- 실시간 유효성 피드백
- 금액 범위 제한

### 3.4 카테고리 관리 화면
**경로**: `/categories`

**카테고리 트리 구조**:
```
📊 전체 카테고리
├── 💰 수입
│   ├── 💼 급여
│   ├── 🏢 사업소득
│   └── 📈 투자소득
└── 💸 지출
    ├── 🥘 식비
    │   ├── 🍽️ 외식비
    │   └── 🛒 장보기
    ├── 🚗 교통비
    └── 🏠 생활비
```

**카테고리 편집 모달**:
- 이름, 색상, 아이콘 선택
- 상위 카테고리 설정
- 미리보기 표시

### 3.5 통계 및 분석 화면
**경로**: `/statistics`

**탭별 분석**:
1. **월별 분석**: 월별 수입/지출 추이
2. **카테고리 분석**: 카테고리별 지출 비율
3. **추세 분석**: 기간별 비교
4. **예산 분석**: 예산 대비 실적 (향후 기능)

**차트 유형**:
- 라인 차트 (추이 분석)
- 바 차트 (카테고리별 비교)
- 도넛 차트 (비율 표시)
- 영역 차트 (누적 분석)

## 4. 컴포넌트 설계

### 4.1 공통 컴포넌트

#### AmountInput 컴포넌트
```tsx
interface AmountInputProps {
  value: number;
  onChange: (value: number) => void;
  placeholder?: string;
  className?: string;
}

// 천단위 구분자, 음수 표시, 원화 기호 자동 추가
```

#### DatePicker 컴포넌트
```tsx
interface DatePickerProps {
  value: Date;
  onChange: (date: Date) => void;
  showTime?: boolean;
  maxDate?: Date;
  minDate?: Date;
}
```

#### CategorySelector 컴포넌트
```tsx
interface CategorySelectorProps {
  value: number | null;
  onChange: (categoryId: number) => void;
  type?: 'INCOME' | 'EXPENSE' | 'ALL';
  showHierarchy?: boolean;
}
```

#### TransactionList 컴포넌트
```tsx
interface TransactionListProps {
  transactions: Transaction[];
  onEdit: (id: number) => void;
  onDelete: (id: number) => void;
  loading?: boolean;
  hasMore?: boolean;
  onLoadMore?: () => void;
}
```

### 4.2 페이지 컴포넌트

#### DashboardPage
- 월별 요약 데이터 조회
- 차트 데이터 로딩
- 최근 거래 데이터 캐싱

#### TransactionFormPage
- 폼 유효성 검사
- 이미지 업로드 처리
- 자동 저장 (드래프트 기능)

#### StatisticsPage
- 기간별 데이터 필터링
- 차트 인터랙션 (드릴다운)
- 데이터 내보내기

## 5. 사용자 플로우

### 5.1 신규 사용자 온보딩
1. **회원가입** → 기본 카테고리 자동 생성
2. **첫 거래 등록** → 간단한 튜토리얼 제공
3. **대시보드 탐색** → 주요 기능 소개

### 5.2 일일 사용 플로우
1. **앱 접속** → 대시보드 표시
2. **거래 등록** → 빠른 등록 버튼 또는 상세 등록
3. **목록 확인** → 필터링 및 검색
4. **통계 확인** → 월별/카테고리별 분석

### 5.3 월말 정리 플로우
1. **월별 리포트** → 수입/지출 분석
2. **카테고리별 검토** → 지출 패턴 파악
3. **데이터 내보내기** → 세무용 또는 백업

## 6. 반응형 디자인

### 6.1 모바일 (320px - 640px)
- 단일 컬럼 레이아웃
- 하단 네비게이션 바
- 터치 친화적 버튼 크기 (44px 최소)
- 스와이프 제스처 지원

### 6.2 태블릿 (641px - 1024px)
- 2-3 컬럼 그리드
- 사이드바 네비게이션
- 터치 및 마우스 모두 지원

### 6.3 데스크톱 (1025px+)
- 다중 컬럼 레이아웃
- 전체 사이드바
- 키보드 단축키 지원
- 마우스 호버 효과

## 7. 접근성 (Accessibility)

### 7.1 WCAG 2.1 AA 준수
- **색상 대비**: 4.5:1 이상
- **키보드 네비게이션**: Tab, Enter, Space, Arrow keys
- **스크린 리더**: 적절한 ARIA 레이블
- **포커스 표시**: 명확한 포커스 링

### 7.2 키보드 단축키
- `Ctrl+N`: 새 거래 등록
- `Ctrl+F`: 검색 포커스
- `Ctrl+E`: 현재 거래 편집
- `Escape`: 모달 닫기/취소

## 8. 성능 최적화

### 8.1 로딩 전략
- **코드 스플리팅**: 페이지별 청크 분리
- **이미지 최적화**: WebP 포맷, lazy loading
- **폰트 최적화**: FOIT 방지, 서브셋 로딩

### 8.2 데이터 관리
- **React Query**: 서버 상태 캐싱
- **Optimistic Updates**: 즉각적 UI 업데이트
- **Background Sync**: 오프라인 지원

### 8.3 모니터링
- **Core Web Vitals**: LCP, FID, CLS 모니터링
- **에러 추적**: Sentry 연동
- **사용자 분석**: 페이지뷰, 전환율 추적

## 9. 테스트 전략

### 9.1 단위 테스트
- 컴포넌트 렌더링 테스트
- 유틸리티 함수 테스트
- 폼 유효성 테스트

### 9.2 통합 테스트
- 사용자 플로우 테스트
- API 연동 테스트
- 반응형 디자인 테스트

### 9.3 E2E 테스트
- 주요 사용자 시나리오
- 크로스 브라우저 테스트
- 모바일 디바이스 테스트

## 10. 배포 및 유지보수

### 10.1 CI/CD 파이프라인
- **자동화 테스트**: PR 머지 전 필수
- **빌드 최적화**: Bundle analyzer
- **성능 회귀 테스트**: Lighthouse CI

### 10.2 모니터링 및 피드백
- **에러 모니터링**: 실시간 알림
- **사용자 피드백**: 인앱 피드백 폼
- **A/B 테스트**: 기능 비교 테스트

### 10.3 업데이트 전략
- **점진적 롤아웃**: 10% → 50% → 100%
- **기능 플래그**: 신기능 점진적 활성화
- **롤백 계획**: 빠른 복구 전략
