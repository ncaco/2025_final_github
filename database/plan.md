# 데이터베이스 설계 계획

데이터베이스 설계 이론에 따라 단계별로 진행하는 설계 문서입니다.

## 설계 프로세스

데이터베이스 설계는 다음 단계를 따릅니다:

1. **요구사항 분석** (Requirements Analysis)
   - 비즈니스 요구사항 파악
   - 데이터 요구사항 수집
   - 기능 요구사항 정의

2. **개념적 설계** (Conceptual Design)
   - 엔티티 식별
   - 속성 정의
   - 관계 정의
   - ERD 작성

3. **논리적 설계** (Logical Design)
   - 정규화 (1NF, 2NF, 3NF, BCNF)
   - 테이블 구조 정의
   - 관계 무결성 규칙 정의

4. **물리적 설계** (Physical Design)
   - 데이터 타입 선택
   - 인덱스 설계
   - 제약조건 정의
   - 성능 최적화

5. **구현 및 검증** (Implementation & Validation)
   - DDL 작성
   - 테스트 데이터 생성
   - 쿼리 성능 검증

## 설계 원칙

- 공공데이터 공통표준7차 제·개정(2024.11월) 준수
- 모든 테이블, 컬럼, 변수명은 스네이크 케이스 사용
- 모든 영문은 대문자 사용
- 정규화 원칙 준수
- 적절한 인덱스 설정

## 진행 상황

### 1단계: 요구사항 분석
- [x] 비즈니스 요구사항 파악
- [x] 데이터 요구사항 수집
- [x] 기능 요구사항 정의

### 2단계: 개념적 설계
- [x] 엔티티 식별
- [x] 속성 정의
- [x] 관계 정의
- [x] ERD 작성

**설계 문서**: [01_conceptual_design.md](01_conceptual_design.md)

### 3단계: 논리적 설계
- [x] 정규화 수행
- [x] 테이블 구조 정의
- [x] 관계 무결성 규칙 정의

**설계 문서**: [02_logical_design.md](02_logical_design.md)

### 4단계: 물리적 설계
- [ ] 데이터 타입 선택
- [ ] 인덱스 설계
- [ ] 제약조건 정의
- [ ] 성능 최적화

### 5단계: 구현 및 검증
- [ ] DDL 작성
- [ ] 테스트 데이터 생성
- [ ] 쿼리 성능 검증

## 설계 결과

### 요구사항 분석 결과

#### 범위
- 공통 기능용 데이터베이스 설계

#### 포함 기능
- 사용자 인증 (로그인/회원가입)
  - 인증 방식: 다중 인증 (이메일/사용자명 + OAuth)
  - OAuth 제공자: Google, GitHub, Kakao, Naver
- 사용자 프로필 관리
  - 기본 필드: 이메일, 사용자명, 비밀번호(해시), 이름, 닉네임, 전화번호
- 역할 및 권한 관리
  - 방식: RBAC (Role-Based Access Control)
- 세션 관리
  - 방식: Refresh Token (Access Token + Refresh Token)
- 감사 로그
  - 기록 범위: 모든 활동 (로그인/로그아웃, 사용자 행동, API 호출, 데이터 변경, 보안 이벤트)
- 파일 업로드 관리
  - 기능: 파일 메타데이터 저장, 파일 소유권 관리
- 추가 요구사항
  - 소프트 삭제 (Soft Delete)
  - 다국어 지원

#### 식별된 주요 엔티티 (예상)
1. 사용자 (USER)
2. OAuth 계정 (OAUTH_ACCOUNT)
3. 역할 (ROLE)
4. 권한 (PERMISSION)
5. 역할-권한 매핑 (ROLE_PERMISSION)
6. 사용자-역할 매핑 (USER_ROLE)
7. 세션/토큰 (SESSION 또는 REFRESH_TOKEN)
8. 감사 로그 (AUDIT_LOG)
9. 파일 (FILE)
10. 다국어 (LOCALE 또는 I18N)

### 개념적 설계 결과

**상세 설계 문서**: [01_conceptual_design.md](01_conceptual_design.md)

**요약**:
- 10개 엔티티 정의 완료
- 각 엔티티의 속성 및 관계 정의 완료
- ERD 요약 작성 완료

### 논리적 설계 결과

**상세 설계 문서**: [02_logical_design.md](02_logical_design.md)

**요약**:
- 모든 테이블 정규화 검토 완료 (1NF, 2NF, 3NF, BCNF)
- 각 테이블의 최종 구조 정의 완료
- 관계 무결성 규칙 정의 완료
- 외래키 제약조건 및 UNIQUE 제약조건 정리 완료

### 물리적 설계 결과
(작성 예정)

### 최종 스키마
(작성 예정)

